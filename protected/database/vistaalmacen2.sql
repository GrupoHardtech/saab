DROP VIEW IF EXISTS `pruebasaab`.`almacen2`;
CREATE OR REPLACE ALGORITHM=UNDEFINED DEFINER=`root`@`localhost` SQL SECURITY DEFINER VIEW `almacen2` AS select `p`.`IDREQUERIMIENTO` AS `num_Requeriemitno`,`k`.`IDKARDEX` AS `kardex`,`k`.`KAR_fechaMovimiento` AS `fecha`,`c`.`CAT_descripcion` AS `bien`,`b`.`BIE_stockActual` AS `stockActual`,`pb`.`PBI_cantidad` AS `cantidad`,`p`.`PEC_referencia` AS `num_Doc_Compra`,concat_ws(' ',`pe`.`PER_nombres`,`pe`.`PER_paterno`,`pe`.`PER_materno`) AS `nombre` from (((((((`kardex` `k` join `pecosa_bien` `pb` on((`k`.`IDPECOSABIEN` = `pb`.`IDPECOSABIEN`))) join `pecosa` `p` on((`p`.`IDPECOSA` = `pb`.`IDPECOSA`))) join `bien` `b` on((`pb`.`IDBIEN` = `b`.`IDBIEN`))) join `catalogo` `c` on((`b`.`IDCATALOGO` = `c`.`IDCATALOGO`))) join `requerimiento` `r` on((`r`.`IDREQUERIMIENTO` = `p`.`IDREQUERIMIENTO`))) join `usuario` `u` on((`r`.`IDUSUARIO` = `u`.`IDUSUARIO`))) join `personal` `pe` on((`u`.`IDPERSONAL` = `pe`.`IDPERSONAL`)));